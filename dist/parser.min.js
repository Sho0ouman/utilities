var Parser=function(){function n(n,r,e){var o=[];if(u(n)||(n=[n]),!f(n,"object"))throw new Error("The input data should be object or array of object.");for(var i=0;i<n.length;i++)o.push(t(n[i],r,e));return 1===o.length?o[0]:o}function t(n,t,o){if(!t)return n;if(t&&"object"!==i(t))throw new Error("Invalid Property description.");for(var u={},f=Object.keys(t),c=0;c<f.length;c++){var a=f[c];u=r(n,u,t,t[a],a)}return u=e(n,u,t,o)}function r(n,t,r,e,u){if("object"!==i(e))throw new Error("Invalid Property description.");if(r.hasOwnProperty(u))if(n.hasOwnProperty(u)){if(!e.skip){var f=n[u];e.value&&(f=o(e.value,n)),!e.name||"string"!==i(e.name)&&"number"!==i(e.name)?t[u]=f:t[e.name]=f}}else r[u].value?t[u]=o(r[u].value,n):t[u]=void 0;return t}function e(n,t,r,e){if(!e)for(var o=Object.keys(n),i=0;i<o.length;i++){var u=o[i];n.hasOwnProperty(u)&&(r.hasOwnProperty(u)||(t[u]=n[u]))}return t}function o(n,t){return"function"===i(n)?n(t):n}function i(n){var t=Object.prototype.toString.call(n);return t.substring(t.indexOf(" ")+1,t.length-1).toLowerCase()}function u(n){return"array"===i(n)}function f(n,t){if(!u(n))return!1;for(var r=0;r<n.length;r++)if(i(n[r])!==t)return!1;return!0}return{parse:function(t,r){return n(t,r)}}}();
